

{% block title %}Affecter un patient{% endblock %}

{% block body %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<div class="container mt-5 d-flex justify-content-center">
    <div class="card shadow-lg p-4 animate__animated animate__fadeIn" style="width: 450px;">
        <div class="card-body text-center">
            <h2 class="text-primary mb-3"><i class="fas fa-procedures"></i> Lit N°{{ lit.num }}</h2>
            <p class="text-muted">Sélectionnez un patient à affecter à ce lit.</p>

            {{ form_start(form, { 'attr': {'id': 'affectationForm'} }) }}
                <div class="mb-4">
                    {{ form_label(form.patient, 'Patient', { 'class': 'form-label fw-bold' }) }}
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                        {{ form_widget(form.patient, { 'attr': { 'class': 'form-control' } }) }}
                    </div>
                </div>

                <button type="submit" class="btn btn-lg btn-primary w-100" onclick="return confirmAffectation()">
                    <i class="fas fa-check-circle"></i> Affecter
                </button>
            {{ form_end(form) }}
        </div>
    </div>
</div>

<script>
    function confirmAffectation() {
        return Swal.fire({
            title: "Confirmation",
            text: "Êtes-vous sûr de vouloir affecter ce patient ?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Oui, affecter !"
        }).then((result) => {
            return result.isConfirmed;
        });
    }
</script>

<!-- Intégration de SweetAlert2 pour une alerte plus moderne -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
    .card {
        border-radius: 15px;
        transition: transform 0.3s ease-in-out;
    }

    .card:hover {
        transform: scale(1.05);
    }

    .btn-primary {
        background: linear-gradient(to right, #4facfe, #00f2fe);
        border: none;
        transition: background 0.3s ease-in-out;
    }

    .btn-primary:hover {
        background: linear-gradient(to right, #00f2fe, #4facfe);
    }
</style>
{% endblock %}
